<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>컬러링북 앱 — 안정판(별/하트 포함) v3</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="status" id="status">상태: 준비</div>
    <div><strong>도안</strong></div>
    <div class="row">
      <select id="templateSelect">
        <option value="flower">꽃</option>
        <option value="house">집</option>
        <option value="fish">물고기</option>
      </select>
      <button type="button" id="changeTemplateBtn">변경</button>
      <input id="tplFile" type="file" accept="image/*" style="display:none"/>
      <button type="button" id="tplImportBtn">도안 불러오기</button>
    </div>
    <div class="row">
      <button type="button" id="saveBtn">저장</button>
      <button type="button" id="loadBtn">불러오기</button>
      <button type="button" id="downloadBtn" title="이미지로 다운로드">⬇️</button>
      <button type="button" id="clearPaintBtn">지우기(채색만)</button>
      <button type="button" id="wipeAllBtn">전체 삭제(백지)</button>
    </div>
    <hr/>
    <div><strong>저장된 도안</strong></div>
    <div id="templateGallery" class="template-gallery">
      <!-- Templates will be loaded here -->
    </div>
    <hr/>
    <div><strong>툴</strong></div>
    <div class="toolbar">
      <button type="button" id="toolBrush" class="active" title="브러시">🖌️</button>
      <button type="button" id="toolBucket" title="채우기">🪣</button>
      <button type="button" id="toolEraser" title="지우개">🧽</button>
      <button type="button" id="toolPan" title="이동">🖐️</button>
      <button type="button" id="zoomInBtn" title="확대">➕</button>
      <button type="button" id="zoomOutBtn" title="축소">➖</button>
      <button type="button" id="resetViewBtn" title="뷰 리셋">원래대로</button>
      <button type="button" id="undoBtn" title="되돌리기">↩︎</button>
      <button type="button" id="redoBtn" title="다시하기">↪︎</button>
      <button type="button" id="resetBtn" title="앱 리셋">⟲</button>
    </div>
    <div class="row"><label for="size">굵기</label><input id="size" type="range" min="1" max="60" value="18"/></div>
    <div class="row"><label for="color">색상</label><input id="color" type="color" value="#ff7b00"/></div>
    <div class="row"><strong>브러시 타입</strong></div>
    <div class="row" id="brushBar"></div>
    <div class="row"><strong>패턴</strong></div>
    <div class="row" id="patternBar"></div>
    <div class="row"><label><input id="bucketPattern" type="checkbox" checked/> 채우기도 패턴 사용</label></div>
  </aside>
  <main class="stage">
    <div class="stage-inner">
      <canvas id="base"></canvas>
      <canvas id="paint"></canvas>
    </div>
  </main>
</div>

<script src="script.js" defer></script>
</body>
</html>
